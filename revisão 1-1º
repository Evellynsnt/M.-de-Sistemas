CREATE DATABASE sistvendas;
USE sistvendas;

CREATE TABLE clientes(
  idCLIENTES INTEGER UNSIGNED  NOT NULL   AUTO_INCREMENT,
  COMPRAS_idCOMPRAS INTEGER UNSIGNED  NOT NULL  ,
  PRODUTOS_idPRODUTOS INTEGER UNSIGNED  NOT NULL  ,
  NOME_CLIENTES VARCHAR(255)  NOT NULL  ,
  CPF FLOAT(11)  NOT NULL  ,
  SEXO VARCHAR(45)  NOT NULL  ,
  DATA_DE_NASCIMENTO DATE  NOT NULL    ,
PRIMARY KEY(idCLIENTES)  ,
INDEX CLIENTES_FKIndex1(PRODUTOS_idPRODUTOS)  ,
INDEX CLIENTES_FKIndex2(COMPRAS_idCOMPRAS));


CREATE TABLE produtos (
  idPRODUTOS INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
  NOME_PRODUTOS VARCHAR(255) NOT NULL,
  MARCA VARCHAR(255) NOT NULL,
  PRECO_PRODUTO DECIMAL(10, 2) NOT NULL,  -- Alterado para DECIMAL para valores monetários
  PRIMARY KEY (idPRODUTOS)
);

CREATE TABLE compras (
  idCOMPRAS INTEGER PRIMARY KEY AUTO_INCREMENT,
  idCLIENTES INTEGER PRIMARY KEY,  
  idPRODUTOS INTEGER PRIMARY KEY,  
  TOTAL_UNIDADES INT NOT NULL,
  PRIMARY KEY (idCOMPRAS),
  FOREIGN KEY (idCLIENTES) REFERENCES clientes(idCLIENTES),  -- Restrição de chave estrangeira
  FOREIGN KEY (idPRODUTOS) REFERENCES produtos(idPRODUTOS)  -- Restrição de chave estrangeira
);
